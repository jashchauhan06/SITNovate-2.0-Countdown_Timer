{"ast":null,"code":"import _objectSpread from\"J:/SITNovate - Timer/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{db}from'../firebase';import{ref,set,onValue,get}from'firebase/database';const TIMER_REF='timer';const DEFAULT_STATE={isRunning:false,endTime:null,remainingTime:24*60*60*1000};// Write timer state to Firebase\nexport function saveTimerState(state){return set(ref(db,TIMER_REF),state);}// One-time read of timer state\nexport async function getTimerState(){const snapshot=await get(ref(db,TIMER_REF));return snapshot.exists()?snapshot.val():_objectSpread({},DEFAULT_STATE);}// Real-time listener — calls callback whenever timer state changes in Firebase\nexport function subscribeToTimer(callback){const timerRef=ref(db,TIMER_REF);const unsubscribe=onValue(timerRef,snapshot=>{const state=snapshot.exists()?snapshot.val():_objectSpread({},DEFAULT_STATE);callback(state);});return unsubscribe;}","map":{"version":3,"names":["db","ref","set","onValue","get","TIMER_REF","DEFAULT_STATE","isRunning","endTime","remainingTime","saveTimerState","state","getTimerState","snapshot","exists","val","_objectSpread","subscribeToTimer","callback","timerRef","unsubscribe"],"sources":["J:/SITNovate - Timer/src/utils/timerStorage.js"],"sourcesContent":["import { db } from '../firebase';\r\nimport { ref, set, onValue, get } from 'firebase/database';\r\n\r\nconst TIMER_REF = 'timer';\r\n\r\nconst DEFAULT_STATE = {\r\n  isRunning: false,\r\n  endTime: null,\r\n  remainingTime: 24 * 60 * 60 * 1000\r\n};\r\n\r\n// Write timer state to Firebase\r\nexport function saveTimerState(state) {\r\n  return set(ref(db, TIMER_REF), state);\r\n}\r\n\r\n// One-time read of timer state\r\nexport async function getTimerState() {\r\n  const snapshot = await get(ref(db, TIMER_REF));\r\n  return snapshot.exists() ? snapshot.val() : { ...DEFAULT_STATE };\r\n}\r\n\r\n// Real-time listener — calls callback whenever timer state changes in Firebase\r\nexport function subscribeToTimer(callback) {\r\n  const timerRef = ref(db, TIMER_REF);\r\n  const unsubscribe = onValue(timerRef, (snapshot) => {\r\n    const state = snapshot.exists() ? snapshot.val() : { ...DEFAULT_STATE };\r\n    callback(state);\r\n  });\r\n  return unsubscribe;\r\n}\r\n"],"mappings":"yGAAA,OAASA,EAAE,KAAQ,aAAa,CAChC,OAASC,GAAG,CAAEC,GAAG,CAAEC,OAAO,CAAEC,GAAG,KAAQ,mBAAmB,CAE1D,KAAM,CAAAC,SAAS,CAAG,OAAO,CAEzB,KAAM,CAAAC,aAAa,CAAG,CACpBC,SAAS,CAAE,KAAK,CAChBC,OAAO,CAAE,IAAI,CACbC,aAAa,CAAE,EAAE,CAAG,EAAE,CAAG,EAAE,CAAG,IAChC,CAAC,CAED;AACA,MAAO,SAAS,CAAAC,cAAcA,CAACC,KAAK,CAAE,CACpC,MAAO,CAAAT,GAAG,CAACD,GAAG,CAACD,EAAE,CAAEK,SAAS,CAAC,CAAEM,KAAK,CAAC,CACvC,CAEA;AACA,MAAO,eAAe,CAAAC,aAAaA,CAAA,CAAG,CACpC,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAT,GAAG,CAACH,GAAG,CAACD,EAAE,CAAEK,SAAS,CAAC,CAAC,CAC9C,MAAO,CAAAQ,QAAQ,CAACC,MAAM,CAAC,CAAC,CAAGD,QAAQ,CAACE,GAAG,CAAC,CAAC,CAAAC,aAAA,IAAQV,aAAa,CAAE,CAClE,CAEA;AACA,MAAO,SAAS,CAAAW,gBAAgBA,CAACC,QAAQ,CAAE,CACzC,KAAM,CAAAC,QAAQ,CAAGlB,GAAG,CAACD,EAAE,CAAEK,SAAS,CAAC,CACnC,KAAM,CAAAe,WAAW,CAAGjB,OAAO,CAACgB,QAAQ,CAAGN,QAAQ,EAAK,CAClD,KAAM,CAAAF,KAAK,CAAGE,QAAQ,CAACC,MAAM,CAAC,CAAC,CAAGD,QAAQ,CAACE,GAAG,CAAC,CAAC,CAAAC,aAAA,IAAQV,aAAa,CAAE,CACvEY,QAAQ,CAACP,KAAK,CAAC,CACjB,CAAC,CAAC,CACF,MAAO,CAAAS,WAAW,CACpB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}